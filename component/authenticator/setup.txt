Steps to run

1.  Build the org.wso2.carbon.identity.application.authentication.endpoint and copy the smsotpauthenticationendpoint.war
    to <IS-HOME>/repository/deployment/server/webapps/smsotpauthenticationendpoint
    Or unzip the authenticationendpoint.war & copy the smsotp.jsp from smsotp/org.wso2.carbon.identity.authenticator/src/main/resources 
    to <IS-HOME>/repository/deployment/server/webapps/authenticationendpoint

2.  Build the org.wso2.carbon.identity.authenticator & copy the org.wso2.carbon.extension.identity.authenticator.smsotp.connector-2.0.5.jar
    to <IS-HOME>/repository/components/dropins

3. Add the following user claims under 'http://wso2.org/claims'.

    public static final String MOBILE_CLAIM = "http://wso2.org/claims/mobile";
    public static final String SAVED_OTP_LIST = "http://wso2.org/claims/otpbackupcodes";
    public static final String USER_SMSOTP_DISABLED_CLAIM_URI = "http://wso2.org/claims/identity/smsotp_disabled";

4. Add the following configuration  <IS_HOME>/repository/conf/identity/application-authentication.xml file under the
 <AuthenticatorConfigs> section

	<AuthenticatorConfig name="SMSOTP" enabled="true">
			<Parameter name="SMSOTPAuthenticationEndpointURL">smsotpauthenticationendpoint/smsotp.jsp</Parameter>
			<Parameter name="SMSOTPMandatory">true</Parameter>
			<Parameter name="RetryEnable">true</Parameter>
			<Parameter name="ResendEnable">true</Parameter>
			<Parameter name="IsEnableMobileNoUpdate">true</Parameter>
			<Parameter name="BackupCode">false</Parameter>
			<Parameter name="EnableByUserClaim">true</Parameter>
			<Parameter name="MobileClaim">true</Parameter>
			<Parameter name="MOBILE_NUMBER_REQ_PAGE">/smsotpauthenticationendpoint/mobile.jsp</Parameter>
    </AuthenticatorConfig>

5.  Follow the steps in https://docs.wso2.com/pages/viewpage.action?title=SMSOTP%2BAuthenticator&spaceKey=ISCONNECTORS


